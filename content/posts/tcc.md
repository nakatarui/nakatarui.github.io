+++
date = '2024-12-16T21:35:37+09:00'
draft = false
title = '超高速なコンパイラ「tcc」'
+++

## 目次
- [tccとは](#tccとは)
- [特徴](#特徴)
- [欠点](#欠点)
- [インストール方法](#インストール方法)
- [使用例](#使用例)
- [まとめ](#まとめ)

## tccとは
![tcc-runs-on-linux](/images/tcc-on-linux.png)

&nbsp;
tcc(Tiny C Compiler) はその名の通りとても小さく、高速なcコンパイラです。  

2001年にファブリス・ベラールさんが[IOCCC](https://ja.m.wikipedia.org/wiki/IOCCC "wikipedia:IOCCC")に発表したコードが原型になっています。その後、機能を拡張したものが現在のtccです。

## 特徴
- 非常に小さく、高速。  
開発者のベラールさんによるとtccのコンパイル速度はgccよりも9倍高速であるそうです。  
&nbsp;
- オプションがgccに似ている。  
tccのオプションはgccに非常に似ているのでgccに慣れている方でも使いやすいです。  
&nbsp;
- 独自の機能がある。  
tccにはコードのコンパイルと同時に実行する機能があります。これについては後にも触れます。
&nbsp;
## 欠点
tccはgccでするような(-Oオプションなどの)コンパイルの最適化ができないことが欠点というか、少し残念なポイントですね。  

性能よりもコンパイラの小ささに重点をおいているためです。  

とはいっても、現代のパソコンは高速なので最適化ができなくて困ることはほとんどないと思います。

## インストール方法
debian/debian派生osでのインストール方法です。
```
$ sudo apt install tcc
```
公式リポジトリに配布されているので`apt`で楽々インストールできます。  

また、試していないので分かりませんがarchlinuxでも公式リポジトリに配布されているので`pacman`を使えばインストールできると思われます。

## 使用例
gccとほとんど同じなので書く必要もないかもしれませんが。  
&nbsp;
#### コンパイルして`a.out`を作る。
```
$ tcc test.c
```
#### アウトプットファイルを指定したいときは`-o`オプション
```
$ tcc test.c -o test
```
#### 厳格にエラーをチェックするようにするには
```
$ tcc test.c -W
```
#### コンパイル時に同時に実行する(tcc独自の機能)
```
$ tcc -run test.c # a.outは作成されない
```

## まとめ
今回はtccの紹介でした。  

他のコンパイラと比べて驚くほど早いのでぜひ一度試してみてください。  

### 参考:
- man
- <https://ja.m.wikipedia.org/wiki/Tiny_C_Compiler>
